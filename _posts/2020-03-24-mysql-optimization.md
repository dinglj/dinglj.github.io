---
layout : post
title : "mysql优化"
category : 数据库优化
duoshuo: true
date : 2020-03-24
tags : [mysql,优化]
---
1. 清洗前库和清洗后的库分离，分离后拆成不同备份策略进行备份。【解决数据库稳定性问题和维护问题】（建议清洗前的库一周备份一次，清洗后的库每天备份一次） 【优先】
2. 表结构去掉所有允许为空的字段，改为not null。【性能效果不一定明显】 【优先】
3. 重新梳理所有表结构，每个字段都需要跟产品确认 【性能和存储上应该有一定明显效果】 
1. 字段是否可删除？如果没有业务使用场景，这种数据就不要存表了。
2. 表是否可删除或者拆分？有些表如果用不到，也就不要存表了。
3. 字段类型以最小粒度存储。能存int就用int，能存bit就bit。减少io查询数量。
4. 查询比较频繁，但是查询字段相对比较少的表，考虑拆分多张表（常用字段和非常用字段分离）。
5. 所有表链接查询要必须使用int （id字段）进行关联查询，如果没有这种字段的都要冗余一份。
6. 有些查询频繁但是没有变动（极少极少）的字段考虑跟业务确认一下，是否冗余，减少链表和io。
